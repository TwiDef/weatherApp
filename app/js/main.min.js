const apiKey="a0a2b5ac85604c67a5e102408230402",form=document.querySelector("#form"),input=document.querySelector(".input"),header=document.querySelector(".header");function removeCard(){const e=document.querySelector(".card");e&&e.remove()}function showError(e){const n=`<div class="card">${e}</div>`;header.insertAdjacentHTML("afterend",n)}function showCard({name:e,country:n,temp:r,condition:t}){const a=`\n            <div class="card">\n                <h2 class="card__city">${e} <span>${n}</span></h2>\n                <div class="card__items">\n                    <div class="card__value">${r}<span>&#176;</span></div>\n                    <img class="card__img" src="./images/clouds-and-sun.png" alt="weather">\n                </div>\n                <div class="card__description">${t}</div>\n            </div>\n            `;header.insertAdjacentHTML("afterend",a)}async function getWeather(e){const n=`http://api.weatherapi.com/v1/current.json?key=${apiKey}&q=${e}`,r=await fetch(n),t=await r.json();return console.log(t),t}form.addEventListener("submit",(async e=>{e.preventDefault();let n=input.value.trim();input.value="";const r=await getWeather(n);if(r.error)removeCard(),showError(r.error.message);else{removeCard();showCard({name:r.location.name,country:r.location.country,temp:r.current.temp_c,condition:r.current.condition.text})}}));